# Raw Data Analysis

The initial raw data originates from [The International Consortium of Investigative Journalists, Inc.](https://www.icij.org/) â€” "an independent global network of 280 investigative journalists and over 140 media organizations spanning more than 100 countries." [^1]. Our initial work here involves their "Offshore Leaks Database". The dataset is a collection of leaked financial documents that exposed links between people (some of them very well known) to offshore companies, foundations and trusts. Offshore and "shell" companies are commonly used by entities to hide wealth from public scrutiny.

## Data Acquisition
Unfortunately, the only known access to the raw data is via a link on the [offshore data page](https://offshoreleaks.icij.org/pages/database). I've sent an email (sent Jan 17 2023) to the ICIJ technical team to see if they can provide more access via git or some other more stable technique.

Until then we'll charge ahead with an analysis of the data from [this](https://offshoreleaks-data.icij.org/offshoreleaks/csv/full-oldb.20221031.zip) file. Note, it's over 70MB zipped, so I'm choosing to not check it into git (at least for the time being). Ideally, it would be great to be able to submodule a raw data repo from ICIJ.

## Data Organization

The raw data is separated into CSV files:

* nodes-entities.csv - ~814,000 records; companies, trusts and foundations
* nodes-officers.csv - ~771,000 records; officers (people)
* nodes-intermediaries.csv - ~26,000 records; intermediaries (people or entities)
* nodes-addresses.csv - ~402,000 records; addresses
* nodes-others.csv - ~2,900 records; other entities
* relationships.csv - ~3.3M records; relationships between all node types

Using csvstat from [CVSKit](https://github.com/wireservice/csvkit), I've added output of that tool to the [/notes/csvstat](/notes/csvstat) folder. This is a great way to understand the composition of large CSV files.

## Data Analysis

### Common 'predicates'
Across all CSV files, we find common fields.

* `node_id`: This is the unique positive integer identifier for nodes. Ranges by type:

    | Node type      | Start       | End         |
    | -------------- | ----------- | ----------- |
    | Entities       | 66,978      | 240,554,209 |
    | Officers       | 1           | 240,556,394 |
    | Intermediaries | 21,309      | 240,099,001 |
    | Others         | 80,000,012  | 240,558,070 |
    | Addresses      | 67,268      | 240,492,577 |

    From this analysis, we can see that there is overlap so we can't infer that a particular
    id is a "type" simply by its node_id range. However, careful analysis shows that the node_ids
    are unique throughout the data set. For instance, node_id 51149 appears in both intermediaries and the entity files and it defines the same information in both places. This seems like a 'completeness' problem as the relationships amongst entities is defined in the relationships.csv file, and should never be inferred from any file the record was in.

* `name`: a text field used in all entity files, max length of 242
* `countries`: a text field, example data 'United Kingdom'
* `country_codes`: three letter designator for countries, e.g., MLT

### Entities (node-entities.csv)

### Officers (node-officers.csv)

### Intermediaries (node-intermediaries.csv)

### Others (node-others.csv)

### Addresses (node-addresses.csv)

### Relationships (relationships.csv)


[^1]: https://en.wikipedia.org/wiki/International_Consortium_of_Investigative_Journalists